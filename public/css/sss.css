/* Custom CSS for dark theme color #151c2f */

/* Light theme - keep default */
body {
  background-color: white !important;
}

/* Dark theme - use custom dark blue color #151c2f */
.dark body {
  background-color: #151c2f !important;
}

/* Navbar styling */
.hextra-nav-container {
  background-color: white !important;
  backdrop-filter: blur(10px) !important;
}

.dark .hextra-nav-container {
  background-color: #151c2f !important;
}

/* Sidebar styling */
.hextra-sidebar-container {
  background-color: white !important;
  margin-left: -10rem !important; /* Move sidebar to the left */
}

.dark .hextra-sidebar-container {
  background-color: #151c2f !important;
}

/* Footer styling */
.hextra-footer {
  background-color: #f1f5f9 !important;
}

.dark .hextra-footer {
  background-color: #151c2f !important;
}

/* Main content area */
main {
  background-color: white !important;
  border-radius: 8px !important;
  margin: 1rem !important;
  padding: 2rem !important;
  box-shadow: none !important; /* Remove shadow */
}

.dark main {
  background-color: #1a2238 !important; /* Slightly lighter than #151c2f for content readability */
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.1) !important; /* Remove shadow in dark mode too */
}

/* Force dark mode always */
html {
  color-scheme: dark !important;
}

html:not(.dark) {
  filter: invert(1) hue-rotate(180deg) !important;
}

/* Hide theme toggle button */
.hextra-theme-toggle {
  display: none !important;
}

/* Force dark mode styles on body - consolidated */
body {
  color: #e5e7eb !important;
}

/* Fix scroll to top and other floating elements */
.scroll-to-top,
[class*="scroll"],
[class*="back-to-top"],
.hextra-back-to-top {
  background-color: #1a2238 !important; /* Same as main content */
  border: none !important; /* Remove outline */
  outline: none !important; /* Remove outline */
  color: #e5e7eb !important;
  left: 1rem !important; /* Move to left with padding */
  right: auto !important; /* Remove right positioning */
}



/* Remove shadow from the sticky bottom element (scroll to top area) */
.dark [class*="shadow-[0_-12px_16px"],
.dark .hx\:dark\:shadow-\[0_-12px_16px_\#111\],
.dark [class*="hx:dark:shadow"],
.dark aside [class*="shadow"],
.dark .sticky[class*="shadow"] {
  box-shadow: none !important;
  -webkit-box-shadow: none !important;
}

/* Fix any remaining dark theme blocks */
.dark [class*="bg-neutral"],
.dark [class*="bg-gray"],
.dark [class*="bg-slate"],
.dark [class*="hx:bg-neutral"],
.dark [class*="hx:bg-gray"],
.dark [class*="hx:bg-slate"] {
  background-color: #1a2238 !important;
}

/* Fix buttons and interactive elements */
.dark button,
.dark [role="button"] {
  background-color: #1a2238 !important;
  border-color: #2d3748 !important;
  color: #e5e7eb !important;
}

/* Fix any popups, tooltips, or floating elements */
.dark [class*="popup"],
.dark [class*="tooltip"],
.dark [class*="dropdown"],
.dark [class*="modal"] {
  background-color: #1a2238 !important;
  border-color: #2d3748 !important;
}

/* Aggressive fix for any remaining black spots */
.dark * {
  border-color: #2d3748 !important;
  outline: none !important;
}

.dark [style*="background-color: black"],
.dark [style*="background-color: #000"],
.dark [style*="background: black"],
.dark [style*="background: #000"],
.dark [class*="bg-black"],
.dark [class*="hx:bg-black"] {
  background-color: #1a2238 !important;
}

/* Fix any elements with dark/black backgrounds */
.dark div[style*="background"],
.dark span[style*="background"] {
  background-color: #1a2238 !important;
}

/* Right sidebar (On this page / aside) — remove black backgrounds but keep structure */
.dark .hextra-aside [class*="bg-black"],
.dark .hextra-aside [style*="background:#000"],
.dark .hextra-aside [style*="background-color:#000"] {
  background-color: transparent !important;
}

/* Aggressively target any remaining black boxes in right sidebar */
.dark aside:not(.hextra-sidebar-container) *,
.dark .hextra-toc *,
.dark [class*="toc"] * {
  background-color: transparent !important;
  background: transparent !important;
}

/* If that rectangle is an <iframe> or a div with inline bg */
.dark .hextra-aside iframe,
.dark .hextra-aside div[style*="background"],
.dark aside:not(.hextra-sidebar-container) div[style*="background"] {
  background: transparent !important;
}

/* Shift the right sidebar slightly left without touching the left sidebar */
@media (min-width: 1024px) {
  .hextra-aside {                 /* container of the right sidebar */
    margin-left: -1.25rem !important;   /* ≈ -20px; tweak as you like */
  }
  .hextra-aside .sticky {         /* inner sticky box */
    margin-left: 0 !important;    /* keep inner layout intact */
  }
}

/* If your theme uses .hextra-toc as the wrapper, use this instead: */
@media (min-width: 1024px) {
  .hextra-toc {
    margin-left: -1.25rem !important;   /* try -1rem to -2rem range */
  }
}

/* Keep left sidebar styles as-is (don’t blank its backgrounds) - REMOVED CONFLICTING RULES */

/* FIXES FOR ISSUES */

/* 1. Move right sidebar text more to the right */
@media (min-width: 1024px) {
  .hextra-aside {
    margin-left: 2rem !important;   /* Move more to the right */
    padding-left: 1rem !important;  /* Add padding for text spacing */
  }
  .hextra-toc {
    margin-left: 2rem !important;   /* Move to the right */
    padding-left: 1rem !important;  /* Add text spacing */
  }
}

/* 2. Restore blue round boxes in left sidebar - more specific selectors */
.dark .hextra-sidebar-container a:hover {
  background-color: rgba(59, 130, 246, 0.1) !important; /* Light blue hover */
  border-radius: 0.375rem !important;
}

.dark .hextra-sidebar-container li:hover {
  background-color: unset !important;
  border-radius: 0.375rem !important;
}

/* Active/current page styling */
.dark .hextra-sidebar-container a,
.dark .hextra-sidebar-container button,
.dark .hextra-sidebar-container li,
.dark .hextra-sidebar-container div {
  background-color: unset !important;
  box-shadow: unset !important;
}

/* Target Hextra's specific classes - simpler approach */
.dark .hextra-sidebar-container [class*="hover:bg"]:hover,
.dark .hextra-sidebar-container [class*="hx:hover"]:hover {
  background-color: rgba(59, 130, 246, 0.1) !important;
  border-radius: 0.375rem !important;
}

/* Override the aggressive background removal for sidebar links */
.dark .hextra-sidebar-container a,
.dark .hextra-sidebar-container button,
.dark .hextra-sidebar-container li {
  background-color: transparent !important;
  transition: all 0.2s ease !important;
}

.dark .hextra-sidebar-container a:hover,
.dark .hextra-sidebar-container button:hover,
.dark .hextra-sidebar-container li:hover a {
  background-color: unset !important;
  border-radius: 0.375rem !important;
}

/* 3. More aggressive black box removal in right sidebar */
.dark aside:last-child,
.dark aside:last-child *,
.dark .hextra-toc,
.dark .hextra-toc * {
  background: transparent !important;
  background-color: transparent !important;
}

/* Reset all sidebar backgrounds to transparent first */
.dark .hextra-sidebar-container * {
  background-color: transparent !important;
  background: transparent !important;
}

/* Then add specific hover effects only for direct elements */
.dark .hextra-sidebar-container > * a:hover,
.dark .hextra-sidebar-container > * button:hover,
.dark .hextra-sidebar-container a:hover,
.dark .hextra-sidebar-container button:hover {
  background-color: rgba(59, 130, 246, 0.1) !important;
  border-radius: 0.375rem !important;
}

/* Current page styling - show with hover color */
.dark .hextra-sidebar-container .active,
.dark .hextra-sidebar-container [aria-current="page"],
.dark .hextra-sidebar-container .current {
  background-color: rgba(59, 130, 246, 0.15) !important; /* Slightly stronger blue for current page */
  border-radius: 0.375rem !important;
}

/* Ensure the clickable item (anchor) gets the current background and fills the row */
.dark .hextra-sidebar-container a[aria-current="page"],
.dark .hextra-sidebar-container li[aria-current="page"] > a,
.dark .hextra-sidebar-container li.active > a,
.dark .hextra-sidebar-container .current > a {
  background-color: rgba(59, 130, 246, 0.15) !important;
  border-radius: 0.5rem !important;
  display: block !important;
  width: 100% !important;
  padding: 0.375rem 0.5rem !important;
}


/* Keep text color same as non-highlighted on the current (highlighted) item */
.dark .hextra-sidebar-container a[aria-current="page"],
.dark .hextra-sidebar-container li[aria-current="page"] > a,
.dark .hextra-sidebar-container li.active > a,
.dark .hextra-sidebar-container .current > a {
  color: #e5e7eb !important; /* same as unhighlighted text */
}

/* In case theme adds text-primary classes inside the link, neutralize them */
.dark .hextra-sidebar-container a[aria-current="page"] [class*="text-primary"],
.dark .hextra-sidebar-container li.active > a [class*="text-primary"],
.dark .hextra-sidebar-container .current > a [class*="text-primary"],
.dark .hextra-sidebar-container a [class*="text-primary"],
.dark .hextra-sidebar-container li [class*="text-primary"],
.dark .hextra-sidebar-container [class*="text-primary"],
.dark .hextra-sidebar-container span[class*="text-primary"],
.dark .hextra-sidebar-container div[class*="text-primary"] {
  color: #e5e7eb !important;
  -webkit-text-fill-color: #e5e7eb !important;
}


/* Nuclear option: force ALL text in sidebar to be #e5e7eb, override any blue */
.dark .hextra-sidebar-container,
.dark .hextra-sidebar-container *,
.dark .hextra-sidebar-container a,
.dark .hextra-sidebar-container a *,
.dark .hextra-sidebar-container span,
.dark .hextra-sidebar-container div {
  color: #e5e7eb !important;
  -webkit-text-fill-color: #e5e7eb !important;
}


/* Strong fallback for highlighting the current page in the sidebar */
.dark .hextra-sidebar-container li:has(> a[aria-current]),
.dark .hextra-sidebar-container li[aria-current],
.dark .hextra-sidebar-container a[aria-current],

/* Highlight current item based on blue text class (fallback when only text turns blue) */
.dark .hextra-sidebar-container li:has(> a [class*="text-primary"]) > a,
.dark .hextra-sidebar-container a:has([class*="text-primary"]) {
  background-color: rgba(59, 130, 246, 0.15) !important;
  color: #e5e7eb !important;
  border-radius: 0.5rem !important;
  display: block !important;
  width: 100% !important;
  padding: 0.375rem 0.5rem !important;
}


/* Strongest color override for current (highlighted) sidebar item */
.dark .hextra-sidebar-container a[aria-current],
.dark .hextra-sidebar-container li[aria-current] > a,
.dark .hextra-sidebar-container li.active > a,
.dark .hextra-sidebar-container .current > a,
.dark .hextra-sidebar-container a[aria-current]:link,
.dark .hextra-sidebar-container a[aria-current]:visited {
  color: #e5e7eb !important;
}
/* Ensure descendants inside the current link also keep the same color */
.dark .hextra-sidebar-container a[aria-current] *,
.dark .hextra-sidebar-container li[aria-current] > a *,
.dark .hextra-sidebar-container li.active > a *,
.dark .hextra-sidebar-container .current > a * {
  color: #e5e7eb !important;
  -webkit-text-fill-color: #e5e7eb !important;
}

.dark .hextra-sidebar-container [data-active="true"],
.dark .hextra-sidebar-container [data-state="active"],
.dark .hextra-sidebar-container [class*="text-primary"]:is(a, li) {
  background-color: rgba(59, 130, 246, 0.2) !important;
  border-radius: 0.5rem !important;
}

/* Ensure the highlight fills the row and is clickable */
.dark .hextra-sidebar-container li:has(> a[aria-current]) > a,
.dark .hextra-sidebar-container a[aria-current] {
  display: block !important;
  width: 100% !important;
  padding: 0.375rem 0.5rem !important;
}

/* Hextra TOC (right aside): nuke the scroll-fade / shadow */
.hextra-aside *,
.hextra-aside *::before,
.hextra-aside *::after {
  /* Kill Tailwind shadows & rings */
  --tw-shadow: 0 0 #0000 !important;
  --tw-shadow-colored: 0 0 #0000 !important;
  --tw-ring-shadow: 0 0 #0000 !important;

  /* Kill actual shadows & drop-shadows */
  box-shadow: none !important;
  filter: none !important;
  -webkit-filter: none !important;

  /* Kill gradient masks used for fades */
  -webkit-mask-image: none !important;
  mask-image: none !important;
}

/* Common Hextra/Nextra sticky scroll-fade hooks */
.hextra-aside .sticky::before,
.hextra-aside .sticky::after,
.hextra-aside [data-scroll-shadow]::before,
.hextra-aside [data-scroll-shadow]::after,
.hextra-aside .scroll-shadow::before,
.hextra-aside .scroll-shadow::after {
  content: none !important;
  background: none !important;
  box-shadow: none !important;
  -webkit-mask-image: none !important;
  mask-image: none !important;
}

/* If the little "Scroll to top" has its own shadow */
.hextra-aside .hextra-back-to-top,
.hextra-aside [class*="back-to-top"],
.hextra-aside [aria-label="Scroll to top"] {
  box-shadow: none !important;
  filter: none !important;
}
